<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="/resources/favicon.png">
    <title id="title">jamesbjenkins - home</title>
</head>

<body>
    <div id="container">
        
        <div id="content">
            
        </div>

        <div id="tabcontainer">
            <table rules=>
                <tbody>
                    <!-- This "head" td shouldn't be necessary but the tab selection breaks slightly if removed. no touch--> 
                    <tr><td class="tab" id="head-tab"></td></tr>
                    <tr><td class="tab" id="home-tab">Home</td></tr>
                    <tr><td class="tab" id="portfolio-tab">Portfolio</td></tr>
                    <tr><td class="tab" id="2-tab">soon™</td></tr>
                    <tr><td class="tab" id="3-tab">soon™</td></tr>
                    <tr><td class="tab" id="4-tab">soon™</td></tr>
                    <tr><td class="tab" id="5-tab">soon™</td></tr>
                    <tr><td class="tab" id="6-tab">soon™</td></tr>
                    <tr><td class="tab" id="7-tab">soon™</td></tr>
                    <tr><td class="tab" id="8-tab">soon™</td></tr>
                    <tr><td class="tab" id="9-tab">soon™</td></tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
<script>
    var active = document.querySelector("#home-tab"), activeId = active.getAttribute("id");
    active.classList.add("active");

    const update_content = () => {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', 'resources/tabs/' + activeId + '.html', true);
        xhr.onreadystatechange= function() {
            if (this.readyState!==4) return;
            if (this.status!==200) return;
            document.getElementById('content').innerHTML= this.responseText;
        };
        xhr.send();

        document.getElementById("title").innerText = "jamesbjenkins - " + activeId.replace("-tab", "")
    }

    update_content();
    
    window.onmousedown = (e) => {
        active.classList.remove("active");
        e.target.getAttribute("class") == "tab" ? active = e.target:null;
        activeId = active.getAttribute("id");
        active.classList.add("active");
        update_content();
    }
</script>
</html>